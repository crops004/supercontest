<div class="overflow-x-auto border border-gray-200 rounded-xl">
  <table class="w-full border-collapse text-sm">
    <thead>
      <tr class="bg-gray-50 text-sm font-semibold text-gray-800">
        <th colspan="6" class="px-3 py-1"></th>
        <th colspan="3" class="text-center px-3 py-1">This Week</th>
        <th colspan="3" class="text-center px-3 py-1">Overall</th>
        <th class="px-3 py-1"></th>
      </tr>
      <tr class="bg-gray-50 text-left font-semibold text-gray-800">
        <th class="px-4 py-3"></th>
        <th class="px-4 py-3">Pick 1</th>
        <th class="px-4 py-3">Pick 2</th>
        <th class="px-4 py-3">Pick 3</th>
        <th class="px-4 py-3">Pick 4</th>
        <th class="px-4 py-3">Pick 5</th>
        <th class="px-4 py-3 text-center">W</th>
        <th class="px-4 py-3 text-center">L</th>
        <th class="px-4 py-3 text-center">P</th>
        <th class="px-4 py-3 text-center">W</th>
        <th class="px-4 py-3 text-center">L</th>
        <th class="px-4 py-3 text-center">P</th>
        <th class="px-4 py-3 text-right whitespace-nowrap">Pts</th>
      </tr>
    </thead>
    <tbody class="divide-y divide-gray-100">
      {% for r in rows %}
      <tr class="hover:bg-gray-50">
        <td class="px-4 py-3 font-bold">{{ r.display_name }}</td>

        {% for p in r.weekly_picks %}
          <td class="px-4 py-3">
            {% set s = p.status %}
            {% if p.label and s in ['win','loss','push','pending'] %}
              <span class="chip {{ s }}" title="{{ p.label }}">{{ p.label|abbr_team }}</span>
            {% elif p.label and s == 'pre' %}
              <span class="chip pending" title="{{ p.label }}">{{ p.label|abbr_team }}</span>
            {% elif s == 'hidden' %}
              <span class="chip placeholder" title="Hidden until lock">?</span>
            {% else %}
              <span class="chip placeholder" title="No pick yet">?</span>
            {% endif %}
          </td>
        {% endfor %}

        {% set w,l,psh = r.week_WLP %}
        <td class="px-4 py-3 text-center font-semibold">{{ w }}</td>
        <td class="px-4 py-3 text-center font-semibold">{{ l }}</td>
        <td class="px-4 py-3 text-center font-semibold">{{ psh }}</td>

        {% set sw,sl,sp = r.season_WLP %}
        <td class="px-4 py-3 text-center font-semibold">{{ sw }}</td>
        <td class="px-4 py-3 text-center font-semibold">{{ sl }}</td>
        <td class="px-4 py-3 text-center font-semibold">{{ sp }}</td>

        <td class="px-4 py-3 text-right font-bold whitespace-nowrap">{{ "%.1f"|format(r.points) }}</td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
