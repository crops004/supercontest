<div class="overflow-x-auto border border-border rounded-xl bg-foreground">
  <table class="w-full border-collapse text-sm text-copy">
    <thead class="bg-background text-copy font-semibold">
      <tr class="border-b border-border">
        <th colspan="6" class="px-3 py-1"></th>
        <th colspan="3" class="text-center px-3 py-1 border-l border-border">This Week</th>
        <th colspan="3" class="text-center px-3 py-1 border-l border-border">Overall</th>
        <th class="px-3 py-1 border-l border-border"></th>
      </tr>
      <tr class="border-b border-border text-left">
        <th class="px-4 py-3"></th>
        <th class="px-4 py-3">Pick 1</th>
        <th class="px-4 py-3">Pick 2</th>
        <th class="px-4 py-3">Pick 3</th>
        <th class="px-4 py-3">Pick 4</th>
        <th class="px-4 py-3">Pick 5</th>

        <!-- vertical border before 'This Week' W -->
        <th class="px-4 py-3 text-center border-l border-border">W</th>
        <th class="px-4 py-3 text-center">L</th>
        <th class="px-4 py-3 text-center">P</th>

        <!-- vertical border before 'Overall' W -->
        <th class="px-4 py-3 text-center border-l border-border">W</th>
        <th class="px-4 py-3 text-center">L</th>
        <th class="px-4 py-3 text-center">P</th>

        <!-- vertical border before Points -->
        <th class="px-4 py-3 text-right whitespace-nowrap border-l border-border">Pts</th>
      </tr>
    </thead>

    <tbody class="divide-y divide-border">
      {% for r in rows %}
      <tr class="hover:bg-background">
        <td class="px-4 py-3 font-bold">{{ r.display_name }}</td>

        {% for p in r.weekly_picks %}
          <td class="px-4 py-3">
            {% set s = p.status %}
            {% if p.label and s in ['win','loss','push','pending'] %}
              <span class="chip {{ s }}" title="{{ p.label }}">{{ p.label|abbr_team }}</span>
            {% elif p.label and s == 'pre' %}
              <span class="chip pending" title="{{ p.label }}">{{ p.label|abbr_team }}</span>
            {% elif s == 'hidden' %}
              <span class="chip placeholder" title="Hidden until lock">?</span>
            {% else %}
              <span class="chip placeholder" title="No pick yet">?</span>
            {% endif %}
          </td>
        {% endfor %}

        {% set w,l,psh = r.week_WLP %}
        <!-- vertical border before 'This Week' W -->
        <td class="px-4 py-3 text-center font-semibold border-l border-border">{{ w }}</td>
        <td class="px-4 py-3 text-center font-semibold">{{ l }}</td>
        <td class="px-4 py-3 text-center font-semibold">{{ psh }}</td>

        {% set sw,sl,sp = r.season_WLP %}
        <!-- vertical border before 'Overall' W -->
        <td class="px-4 py-3 text-center font-semibold border-l border-border">{{ sw }}</td>
        <td class="px-4 py-3 text-center font-semibold">{{ sl }}</td>
        <td class="px-4 py-3 text-center font-semibold">{{ sp }}</td>

        <!-- vertical border before Points -->
        <td class="px-4 py-3 text-right font-bold whitespace-nowrap border-l border-border">
          {{ "%.1f"|format(r.points) }}
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
