{% for r in rows %}
  <details class="bg-foreground border border-border rounded-2xl p-3 my-2">
    <summary class="flex flex-col gap-1 cursor-pointer">
      <div class="font-bold text-copy">{{ r.display_name }}</div>
      <div class="text-[0.95rem] text-copy flex flex-wrap gap-1">
        <span class="text-copy-lighter">This wk:</span>
        {% set w,l,psh = r.week_WLP %} {{ w }}-{{ l }}-{{ psh }}
        <span class="text-copy-lighter">•</span>
        <span class="text-copy-lighter">Overall:</span>
        {% set sw,sl,sp = r.season_WLP %} {{ sw }}-{{ sl }}-{{ sp }}
        <span class="text-copy-lighter">•</span>
        <span class="text-copy-lighter">Pts:</span> {{ "%.1f"|format(r.points) }}
      </div>
    </summary>

    <!-- picks (chips) -->
    <div class="mt-2 flex flex-wrap gap-2">
      {% for p in r.weekly_picks %}
        {% set s = p.status %}
        {% if p.label and s in ['win','loss','push','pending'] %}
          <span class="chip {{ s }}" title="{{ p.label }}">{{ p.label|abbr_team }}</span>
        {% elif p.label and s == 'pre' %}
          <span class="chip pending" title="{{ p.label }}">{{ p.label|abbr_team }}</span>
        {% elif s == 'hidden' %}
          <span class="chip placeholder" title="Hidden until lock">?</span>
        {% else %}
          <span class="chip placeholder" title="No pick yet">?</span>
        {% endif %}
      {% endfor %}
    </div>
  </details>
{% endfor %}
